package filehandling;

import javax.xml.parsers.DocumentBuilder;
import javax.xml.parsers.DocumentBuilderFactory;
import org.w3c.dom.Document;
import org.w3c.dom.Element;
import org.w3c.dom.NamedNodeMap;
import org.w3c.dom.Node;
import org.w3c.dom.NodeList;

public class CountChildElements {
    public static void main(String[] args) {
        try {
            // Load and parse the XML document
            DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();
            DocumentBuilder builder = factory.newDocumentBuilder();
            Document document = builder.parse("D:\\InnovationTool\\Demo.xml");

            // Get the root element
            Element rootElement = document.getDocumentElement();
            System.out.println("Root is " + rootElement.getNodeName());

            // Get the attributes of the root element
            NamedNodeMap rootAttributes = rootElement.getAttributes();
            System.out.println("Number of Attributes of " + rootElement.getNodeName() + " is " + rootAttributes.getLength());

            // Get the child elements of the root element
            NodeList childNodes = rootElement.getChildNodes();
            System.out.println("Number of childElement of " + rootElement.getNodeName() + " is " + childNodes.getLength());

            // Iterate over the child elements
            for (int i = 0; i < childNodes.getLength(); i++) {
                Node childNode = childNodes.item(i);
                if (childNode.getNodeType() == Node.ELEMENT_NODE) {
                    Element childElement = (Element) childNode;
                    System.out.println("\t" + (i + 1) + " is " + childElement.getNodeName());

                    // Get the attributes of the child element
                    NamedNodeMap childAttributes = childElement.getAttributes();
                    System.out.println("\tNumber of Attributes of " + childElement.getNodeName() + " is " + childAttributes.getLength());

                    // Get the child elements of the child element
                    NodeList grandChildNodes = childElement.getChildNodes();
                    System.out.println("\tNumber of childElement of " + childElement.getNodeName() + " is " + grandChildNodes.getLength());

                    // Iterate over the grandchild elements
                    for (int j = 0; j < grandChildNodes.getLength(); j++) {
                        Node grandChildNode = grandChildNodes.item(j);
                        if (grandChildNode.getNodeType() == Node.ELEMENT_NODE) {
                            Element grandChildElement = (Element) grandChildNode;
                            System.out.println("\t\t" + (j + 1) + " is " + grandChildElement.getNodeName());

                            // Get the attributes of the grandchild element
                            NamedNodeMap grandChildAttributes = grandChildElement.getAttributes();
                            System.out.println("\t\tNumber of Attributes of " + grandChildElement.getNodeName() + " is " + grandChildAttributes.getLength());

                            // Get the child elements of the grandchild element
                            NodeList greatGrandChildNodes = grandChildElement.getChildNodes();
                            System.out.println("\t\tNumber of childElement of " + grandChildElement.getNodeName() + " is " + greatGrandChildNodes.getLength());
                        }
                    }
                }
            }

        } catch (Exception e) {
            e.printStackTrace();
        }
    }
}

